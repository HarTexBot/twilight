<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Gateway API client responsible for up to 2500 guilds."><title>Shard in twilight_gateway - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-07416f8512e0e04c.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="twilight_gateway" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (4c8bb79d9 2023-07-15)" data-channel="nightly" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../twilight_gateway/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../twilight_gateway/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Shard</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.close">close</a></li><li><a href="#method.command">command</a></li><li><a href="#method.config">config</a></li><li><a href="#method.id">id</a></li><li><a href="#method.inflater">inflater</a></li><li><a href="#method.latency">latency</a></li><li><a href="#method.new">new</a></li><li><a href="#method.next_event">next_event</a></li><li><a href="#method.next_message">next_message</a></li><li><a href="#method.ratelimiter">ratelimiter</a></li><li><a href="#method.send">send</a></li><li><a href="#method.sender">sender</a></li><li><a href="#method.session">session</a></li><li><a href="#method.status">status</a></li><li><a href="#method.with_config">with_config</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Debug-for-Shard">Debug</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-Shard">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-Shard">!UnwindSafe</a></li><li><a href="#impl-Send-for-Shard">Send</a></li><li><a href="#impl-Sync-for-Shard">Sync</a></li><li><a href="#impl-Unpin-for-Shard">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-Shard">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-Shard">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-Shard">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-Shard">From&lt;T&gt;</a></li><li><a href="#impl-Instrument-for-Shard">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-Shard">Into&lt;U&gt;</a></li><li><a href="#impl-Same%3CT%3E-for-Shard">Same&lt;T&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-Shard">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-Shard">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E-for-Shard">VZip&lt;V&gt;</a></li><li><a href="#impl-WithSubscriber-for-Shard">WithSubscriber</a></li></ul></section><h2><a href="index.html">In twilight_gateway</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">twilight_gateway</a>::<wbr><a class="struct" href="#">Shard</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/twilight_gateway/shard.rs.html#333-384">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct Shard { /* private fields */ }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Gateway API client responsible for up to 2500 guilds.</p>
<p>Shards are responsible for maintaining the gateway connection by processing
events relevant to the operation of shards—such as requests from the
gateway to re-connect or invalidate a session—and then to pass them on to
the user.</p>
<p>Shards start out disconnected, but will on the first call to
<a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>next_message</code></a> try to reconnect to the gateway. <a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>next_message</code></a> must then
be repeatedly called in order for the shard to maintain its connection and
update its internal state. Note that the <a href="struct.Shard.html#method.next_event" title="method twilight_gateway::Shard::next_event"><code>next_event</code></a> method internally
calls <a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>next_message</code></a>.</p>
<p>Shards go through an <a href="crate::queue">identify queue</a> that ratelimits the amount of
concurrent identifies (across all shards) per 5 seconds. Exceeding this
limit invalidates the shard’s session and it is therefore very important to
reuse the same queue when running multiple shards. Note that shards must be
identified before they start receiving dispatch events and are able to send
<a href="trait.Command.html" title="trait twilight_gateway::Command"><code>Command</code></a>s.</p>
<h2 id="sharding"><a href="#sharding">Sharding</a></h2>
<p>A shard may not be connected to more than 2500 guilds, so large bots must
split themselves across multiple shards. See the
<a href="https://discord.com/developers/docs/topics/gateway#sharding">Discord Docs/Sharding</a>, <a href="struct.ShardId.html" title="struct twilight_gateway::ShardId"><code>ShardId</code></a>, and <a href="stream/index.html" title="mod twilight_gateway::stream"><code>stream</code></a>
documentation for more info.</p>
<h2 id="sending-shard-commands-in-different-tasks"><a href="#sending-shard-commands-in-different-tasks">Sending shard commands in different tasks</a></h2>
<p>Because shards should not be used across multiple tasks it’s not always easy
to directly send <a href="struct.Shard.html#method.command" title="method twilight_gateway::Shard::command">gateway commands</a> over a shard. As a convenience method,
<a href="struct.Shard.html#method.sender" title="method twilight_gateway::Shard::sender"><code>Shard::sender</code></a> can be used to receive an MPSC channel sender which, in
addition to being cheaply cloned, also only sends queued up commands when
the shard is identified and not ratelimited. Multiple shards’ senders can,
for example, be collected into an <code>Arc&lt;Vec&lt;MessageSender&gt;&gt;</code> and be shared
across all event handler tasks.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Create and start a shard and print new and deleted messages:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::env;
<span class="kw">use </span>twilight_gateway::{Config, Event, EventTypeFlags, Intents, Shard, ShardId};

<span class="comment">// Use the value of the &quot;DISCORD_TOKEN&quot; environment variable as the bot&#39;s
// token. Of course, this value may be passed into the program however is
// preferred.
</span><span class="kw">let </span>token = env::var(<span class="string">&quot;DISCORD_TOKEN&quot;</span>)<span class="question-mark">?</span>;
<span class="kw">let </span>event_types = EventTypeFlags::MESSAGE_CREATE | EventTypeFlags::MESSAGE_DELETE;

<span class="kw">let </span>config = Config::builder(token, Intents::GUILD_MESSAGES)
    .event_types(event_types)
    .build();
<span class="kw">let </span><span class="kw-2">mut </span>shard = Shard::with_config(ShardId::ONE, config);

<span class="comment">// Create a loop of only new messages and deleted messages.

</span><span class="kw">loop </span>{
    <span class="kw">let </span>event = <span class="kw">match </span>shard.next_event().<span class="kw">await </span>{
        <span class="prelude-val">Ok</span>(event) =&gt; event,
        <span class="prelude-val">Err</span>(source) =&gt; {
            <span class="macro">tracing::warn!</span>(<span class="question-mark">?</span>source, <span class="string">&quot;error receiving event&quot;</span>);

            <span class="kw">if </span>source.is_fatal() {
                <span class="kw">break</span>;
            }

            <span class="kw">continue</span>;
        }
    };

    <span class="kw">match </span>event {
        Event::MessageCreate(message) =&gt; {
            <span class="macro">println!</span>(<span class="string">&quot;message received with content: {}&quot;</span>, message.content);
        }
        Event::MessageDelete(message) =&gt; {
            <span class="macro">println!</span>(<span class="string">&quot;message with ID {} deleted&quot;</span>, message.id);
        }
        <span class="kw">_ </span>=&gt; {}
    }
}</code></pre></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Shard" class="impl"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#386-1246">source</a><a href="#impl-Shard" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#388-392">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(id: <a class="struct" href="struct.ShardId.html" title="struct twilight_gateway::ShardId">ShardId</a>, token: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, intents: <a class="struct" href="struct.Intents.html" title="struct twilight_gateway::Intents">Intents</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new shard with the default configuration.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.with_config" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#395-417">source</a><h4 class="code-header">pub fn <a href="#method.with_config" class="fn">with_config</a>(shard_id: <a class="struct" href="struct.ShardId.html" title="struct twilight_gateway::ShardId">ShardId</a>, config: <a class="struct" href="struct.Config.html" title="struct twilight_gateway::Config">Config</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new shard with the provided configuration.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.config" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#420-422">source</a><h4 class="code-header">pub const fn <a href="#method.config" class="fn">config</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.Config.html" title="struct twilight_gateway::Config">Config</a></h4></section></summary><div class="docblock"><p>Immutable reference to the configuration used to instantiate this shard.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.id" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#425-427">source</a><h4 class="code-header">pub const fn <a href="#method.id" class="fn">id</a>(&amp;self) -&gt; <a class="struct" href="struct.ShardId.html" title="struct twilight_gateway::ShardId">ShardId</a></h4></section></summary><div class="docblock"><p>ID of the shard.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.inflater" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#433-435">source</a><h4 class="code-header">pub const fn <a href="#method.inflater" class="fn">inflater</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.Inflater.html" title="struct twilight_gateway::Inflater">Inflater</a></h4></section><span class="item-info"><div class="stab portability">Available on <strong>crate features <code>zlib-stock</code> or <code>zlib-simd</code></strong> only.</div></span></summary><div class="docblock"><p>Zlib decompressor statistics.</p>
<p>Reset when reconnecting to the gateway.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.status" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#438-440">source</a><h4 class="code-header">pub const fn <a href="#method.status" class="fn">status</a>(&amp;self) -&gt; &amp;<a class="enum" href="enum.ConnectionStatus.html" title="enum twilight_gateway::ConnectionStatus">ConnectionStatus</a></h4></section></summary><div class="docblock"><p>Connection status of the shard.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.latency" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#446-448">source</a><h4 class="code-header">pub const fn <a href="#method.latency" class="fn">latency</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.Latency.html" title="struct twilight_gateway::Latency">Latency</a></h4></section></summary><div class="docblock"><p>Shard latency statistics, including average latency and recent heartbeat
latency times.</p>
<p>Reset when reconnecting to the gateway.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.ratelimiter" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#457-459">source</a><h4 class="code-header">pub const fn <a href="#method.ratelimiter" class="fn">ratelimiter</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="struct.CommandRatelimiter.html" title="struct twilight_gateway::CommandRatelimiter">CommandRatelimiter</a>&gt;</h4></section></summary><div class="docblock"><p>Statistics about the number of available commands and when the command
ratelimiter will refresh.</p>
<p>This won’t be present if ratelimiting was disabled via
<a href="struct.ConfigBuilder.html#method.ratelimit_messages" title="method twilight_gateway::ConfigBuilder::ratelimit_messages"><code>ConfigBuilder::ratelimit_messages</code></a> or if the shard is disconnected.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.session" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#465-467">source</a><h4 class="code-header">pub const fn <a href="#method.session" class="fn">session</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="struct.Session.html" title="struct twilight_gateway::Session">Session</a>&gt;</h4></section></summary><div class="docblock"><p>Immutable reference to the active gateway session.</p>
<p>An active session may not be present if the shard had its session
invalidated and has not yet reconnected.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.next_event" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#503-538">source</a><h4 class="code-header">pub async fn <a href="#method.next_event" class="fn">next_event</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Event, <a class="struct" href="error/struct.ReceiveMessageError.html" title="struct twilight_gateway::error::ReceiveMessageError">ReceiveMessageError</a>&gt;</h4></section></summary><div class="docblock"><p>Wait for the next Discord event from the gateway.</p>
<p>This is a convenience method that internally calls <a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>next_message</code></a> and
only returns wanted [<code>Event</code>]s, configured via
<a href="struct.ConfigBuilder.html#method.event_types" title="method twilight_gateway::ConfigBuilder::event_types"><code>ConfigBuilder::event_types</code></a>. Close messages are always considered
wanted and map onto the [<code>Event::GatewayClose</code>] variant.</p>
<p>Events not registered in Twilight are skipped. If you need to receive
events Twilight doesn’t support, use <a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>next_message</code></a> to receive raw
payloads.</p>
<h5 id="errors"><a href="#errors">Errors</a></h5>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Compression" title="variant twilight_gateway::error::ReceiveMessageErrorType::Compression"><code>ReceiveMessageErrorType::Compression</code></a> error type if the
message payload failed to decompress.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Deserializing" title="variant twilight_gateway::error::ReceiveMessageErrorType::Deserializing"><code>ReceiveMessageErrorType::Deserializing</code></a> error type if the
message payload failed to deserialize.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.FatallyClosed" title="variant twilight_gateway::error::ReceiveMessageErrorType::FatallyClosed"><code>ReceiveMessageErrorType::FatallyClosed</code></a> error type if the
shard was closed due to a fatal error, such as invalid authorization.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Process" title="variant twilight_gateway::error::ReceiveMessageErrorType::Process"><code>ReceiveMessageErrorType::Process</code></a> error type if the shard
failed to internally process a received event.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Reconnect" title="variant twilight_gateway::error::ReceiveMessageErrorType::Reconnect"><code>ReceiveMessageErrorType::Reconnect</code></a> error type if the shard
failed to reconnect to the gateway. This isn’t a fatal error and can be
retried.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.SendingMessage" title="variant twilight_gateway::error::ReceiveMessageErrorType::SendingMessage"><code>ReceiveMessageErrorType::SendingMessage</code></a> error type if the
shard failed to send a message to the gateway, such as a heartbeat.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.next_message" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#559">source</a><h4 class="code-header">pub async fn <a href="#method.next_message" class="fn">next_message</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="enum.Message.html" title="enum twilight_gateway::Message">Message</a>, <a class="struct" href="error/struct.ReceiveMessageError.html" title="struct twilight_gateway::error::ReceiveMessageError">ReceiveMessageError</a>&gt;</h4></section></summary><div class="docblock"><p>Wait for the next raw message from the websocket connection.</p>
<h5 id="errors-1"><a href="#errors-1">Errors</a></h5>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Compression" title="variant twilight_gateway::error::ReceiveMessageErrorType::Compression"><code>ReceiveMessageErrorType::Compression</code></a> error type if the
message payload failed to decompress.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.FatallyClosed" title="variant twilight_gateway::error::ReceiveMessageErrorType::FatallyClosed"><code>ReceiveMessageErrorType::FatallyClosed</code></a> error type if the
shard was closed due to a fatal error, such as invalid authorization.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Process" title="variant twilight_gateway::error::ReceiveMessageErrorType::Process"><code>ReceiveMessageErrorType::Process</code></a> error type if the shard
failed to internally process a received event.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.Reconnect" title="variant twilight_gateway::error::ReceiveMessageErrorType::Reconnect"><code>ReceiveMessageErrorType::Reconnect</code></a> error type if the shard
failed to reconnect to the gateway. This isn’t a fatal error and can be
retried.</p>
<p>Returns a <a href="error/enum.ReceiveMessageErrorType.html#variant.SendingMessage" title="variant twilight_gateway::error::ReceiveMessageErrorType::SendingMessage"><code>ReceiveMessageErrorType::SendingMessage</code></a> error type if the
shard failed to send a message to the gateway, such as a heartbeat.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.command" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#844-856">source</a><h4 class="code-header">pub async fn <a href="#method.command" class="fn">command</a>(&amp;mut self, command: &amp;impl <a class="trait" href="trait.Command.html" title="trait twilight_gateway::Command">Command</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="error/struct.SendError.html" title="struct twilight_gateway::error::SendError">SendError</a>&gt;</h4></section></summary><div class="docblock"><p>Send a command over the gateway.</p>
<p>Serializes the command and then calls <a href="struct.Shard.html#method.send" title="method twilight_gateway::Shard::send"><code>send</code></a>.</p>
<h5 id="examples-1"><a href="#examples-1">Examples</a></h5>
<p>Request members whose names start with “tw” in a guild:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::env;
<span class="kw">use </span>twilight_gateway::{ConnectionStatus, Intents, Shard, ShardId};
<span class="kw">use </span>twilight_model::{gateway::payload::outgoing::RequestGuildMembers, id::Id};

<span class="kw">let </span>intents = Intents::GUILD_VOICE_STATES;
<span class="kw">let </span>token = env::var(<span class="string">&quot;DISCORD_TOKEN&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">let </span><span class="kw-2">mut </span>shard = Shard::new(ShardId::ONE, token, intents);

<span class="comment">// Discord only allows sending the `RequestGuildMembers` command after
// the shard is identified.
</span><span class="kw">while </span>!shard.status().is_identified() {
    <span class="comment">// Ignore these messages.
    </span>shard.next_message().<span class="kw">await</span><span class="question-mark">?</span>;
}

<span class="comment">// Query members whose names start with &quot;tw&quot; and limit the results to 10
// members.
</span><span class="kw">let </span>request = RequestGuildMembers::builder(Id::new(<span class="number">1</span>)).query(<span class="string">&quot;tw&quot;</span>, <span class="prelude-val">Some</span>(<span class="number">10</span>));

<span class="comment">// Send the request over the shard.
</span>shard.command(<span class="kw-2">&amp;</span>request).<span class="kw">await</span><span class="question-mark">?</span>;</code></pre></div>
<h5 id="errors-2"><a href="#errors-2">Errors</a></h5>
<p>Returns a <a href="error/enum.SendErrorType.html#variant.Sending" title="variant twilight_gateway::error::SendErrorType::Sending"><code>SendErrorType::Sending</code></a> error type if the command could
not be sent over the websocket. This indicates the shard is either
currently restarting or closed and will restart.</p>
<p>Returns a <a href="error/enum.SendErrorType.html#variant.Serializing" title="variant twilight_gateway::error::SendErrorType::Serializing"><code>SendErrorType::Serializing</code></a> error type if the provided
command failed to serialize.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.send" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#871-877">source</a><h4 class="code-header">pub async fn <a href="#method.send" class="fn">send</a>(&amp;mut self, json: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="error/struct.SendError.html" title="struct twilight_gateway::error::SendError">SendError</a>&gt;</h4></section></summary><div class="docblock"><p>Send a JSON encoded gateway event.</p>
<p>A permit from the shard’s <a href="struct.CommandRatelimiter.html" title="struct twilight_gateway::CommandRatelimiter">ratelimiter</a> is first awaited (if
ratelimiting is <a href="struct.ConfigBuilder.html#method.ratelimit_messages" title="method twilight_gateway::ConfigBuilder::ratelimit_messages">enabled</a>) before sending the event.</p>
<h5 id="errors-3"><a href="#errors-3">Errors</a></h5>
<p>Returns a <a href="error/enum.SendErrorType.html#variant.Sending" title="variant twilight_gateway::error::SendErrorType::Sending"><code>SendErrorType::Sending</code></a> error type if the event could not
be sent over the websocket. This indicates the shard is either currently
restarting or closed and will restart.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.sender" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#900-902">source</a><h4 class="code-header">pub fn <a href="#method.sender" class="fn">sender</a>(&amp;self) -&gt; <a class="struct" href="struct.MessageSender.html" title="struct twilight_gateway::MessageSender">MessageSender</a></h4></section></summary><div class="docblock"><p>Retrieve a channel to send outgoing gateway events over the shard to the
gateway.</p>
<p>This is primarily useful for sending to other tasks and threads where
the shard won’t be available.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.close" class="method"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#958-972">source</a><h4 class="code-header">pub async fn <a href="#method.close" class="fn">close</a>(
    &amp;mut self,
    close_frame: <a class="struct" href="struct.CloseFrame.html" title="struct twilight_gateway::CloseFrame">CloseFrame</a>&lt;'static&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Session.html" title="struct twilight_gateway::Session">Session</a>&gt;, <a class="struct" href="error/struct.SendError.html" title="struct twilight_gateway::error::SendError">SendError</a>&gt;</h4></section></summary><div class="docblock"><p>Send a Websocket close frame indicating whether to also invalidate the
shard’s session.</p>
<p>Returns the shard’s session if the close frame code is not <code>1000</code> or
<code>1001</code>, which invalidates the session and shows the application’s bot as
offline. Otherwise Discord will not invalidate the shard’s session and
will continue to show the application’s bot as online until its presence
times out.</p>
<p>Sets status to <a href="enum.ConnectionStatus.html#variant.Disconnected" title="variant twilight_gateway::ConnectionStatus::Disconnected"><code>ConnectionStatus::Disconnected</code></a> with the <code>close_code</code>
from the <code>close_frame</code>.</p>
<p>To read all remaining events, continue calling <a href="struct.Shard.html#method.next_message" title="method twilight_gateway::Shard::next_message"><code>Shard::next_message</code></a>
until it returns the response close message or a
<a href="error/enum.ReceiveMessageErrorType.html#variant.Io" title="variant twilight_gateway::error::ReceiveMessageErrorType::Io"><code>ReceiveMessageErrorType::Io</code></a> error type.</p>
<p>You do not need to call this method upon receiving a close message,
Twilight automatically responds for you.</p>
<h5 id="example"><a href="#example">Example</a></h5>
<p>Close the gateway connection but process already received messages:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>twilight_gateway::{error::ReceiveMessageErrorType, CloseFrame, Message};

shard.close(CloseFrame::NORMAL).<span class="kw">await</span><span class="question-mark">?</span>;

<span class="kw">loop </span>{
    <span class="kw">match </span>shard.next_message().<span class="kw">await </span>{
        <span class="prelude-val">Ok</span>(Message::Close(<span class="kw">_</span>)) =&gt; {
            <span class="comment">// We&#39;ve now received a close message response from the
            // Gateway.
            // Further calls to `next_message` would cause a reconnect.
            </span><span class="kw">break</span>;
        }
        <span class="prelude-val">Ok</span>(Message::Text(<span class="kw">_</span>)) =&gt; <span class="macro">unimplemented!</span>(<span class="string">&quot;handle message&quot;</span>),
        <span class="prelude-val">Err</span>(source) <span class="kw">if </span><span class="macro">matches!</span>(source.kind(), ReceiveMessageErrorType::Io) =&gt; <span class="kw">break</span>,
        <span class="prelude-val">Err</span>(source) =&gt; <span class="macro">tracing::warn!</span>(<span class="question-mark">?</span>source, <span class="string">&quot;error receiving message&quot;</span>),
    }
}</code></pre></div>
<h5 id="errors-4"><a href="#errors-4">Errors</a></h5>
<p>Returns a <a href="error/enum.SendErrorType.html#variant.Sending" title="variant twilight_gateway::error::SendErrorType::Sending"><code>SendErrorType::Sending</code></a> error type if the close frame could
not be sent over the websocket. This indicates the shard is either
currently restarting or closed and will restart.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-Shard" class="impl"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#332">source</a><a href="#impl-Debug-for-Shard" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/twilight_gateway/shard.rs.html#332">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-Shard" class="impl"><a href="#impl-RefUnwindSafe-for-Shard" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section><section id="impl-Send-for-Shard" class="impl"><a href="#impl-Send-for-Shard" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section><section id="impl-Sync-for-Shard" class="impl"><a href="#impl-Sync-for-Shard" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section><section id="impl-Unpin-for-Shard" class="impl"><a href="#impl-Unpin-for-Shard" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section><section id="impl-UnwindSafe-for-Shard" class="impl"><a href="#impl-UnwindSafe-for-Shard" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Shard.html" title="struct twilight_gateway::Shard">Shard</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#impl-Any-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#202">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#722">source</a><a href="#impl-From%3CT%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#725">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Instrument-for-Shard" class="impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#276">source</a><a href="#impl-Instrument-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html" title="trait tracing::instrument::Instrument">Instrument</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#82">source</a><a href="#method.instrument" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.instrument" class="fn">instrument</a>(self, span: <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="struct tracing::span::Span">Span</a>) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="struct tracing::span::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.instrument">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#121">source</a><a href="#method.in_current_span" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.in_current_span" class="fn">in_current_span</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html#method.current" title="associated function tracing::span::Span::current">current</a> <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="struct tracing::span::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.in_current_span">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#706">source</a><a href="#impl-Into%3CU%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#715">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Same%3CT%3E-for-Shard" class="impl"><a class="src rightside" href="https://docs.rs/typenum/1.16.0/src/typenum/type_operators.rs.html#34">source</a><a href="#impl-Same%3CT%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/typenum/1.16.0/typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://docs.rs/typenum/1.16.0/typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#762">source</a><a href="#impl-TryFrom%3CU%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#769">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-Shard" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#747">source</a><a href="#impl-TryInto%3CU%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#754">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-Shard" class="impl"><a href="#impl-VZip%3CV%3E-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;V, T&gt; VZip&lt;V&gt; for T<span class="where fmt-newline">where
    V: MultiLane&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl"><a href="#method.vzip" class="anchor">§</a><h4 class="code-header">fn <a class="fn">vzip</a>(self) -&gt; V</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-Shard" class="impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#334">source</a><a href="#impl-WithSubscriber-for-Shard" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html" title="trait tracing::instrument::WithSubscriber">WithSubscriber</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#169-171">source</a><a href="#method.with_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber" class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;<span class="where fmt-newline">where
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;Dispatch&gt;,</span></h4></section></summary><div class='docblock'>Attaches the provided <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl"><a class="src rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#221">source</a><a href="#method.with_current_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber" class="fn">with_current_subscriber</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="https://docs.rs/tracing/0.1.37/tracing/dispatcher/index.html#setting-the-default-subscriber" title="mod tracing::dispatcher">default</a> <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber">Read more</a></div></details></div></details></div></section></div></main></body></html>